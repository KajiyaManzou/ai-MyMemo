# ai-MyMemo 開発タスクリスト

## Phase 1: 基本機能（2週間）

### 1.1 プロジェクト初期設定
- [x] Flutter プロジェクトの作成
- [x] pubspec.yaml の設定（必要なパッケージの追加）
  - `sqflite`
  - `shared_preferences`
  - `flutter_markdown`
  - `provider`
- [x] プロジェクト構成の設計
  - `lib/models/`
  - `lib/screens/`
  - `lib/widgets/`
  - `lib/services/`
  - `lib/providers/`
- [x] アプリのテーマ設定（Material Design）

### 1.2 データベース設計・実装
- [x] データベースヘルパークラスの作成
- [x] memosテーブルの作成
- [x] categoriesテーブルの作成
- [x] tagsテーブルの作成
- [x] memo_tagsテーブルの作成
- [x] データベース初期化処理の実装
- [x] データモデルクラスの作成
  - `Memo`
  - `Category`
  - `Tag`

### 1.3 メモ作成・編集・削除機能
- [x] メモ編集画面のUI作成
- [x] テキスト入力フィールドの実装
- [x] タイトル入力フィールドの実装
- [x] メモ保存機能の実装
- [x] メモ更新機能の実装
- [x] メモ削除機能の実装
- [x] リアルタイム保存機能の実装
- [x] 入力バリデーションの実装

### 1.4 メモ一覧表示
- [x] メイン画面のUI作成
- [x] メモ一覧表示ウィジェットの作成
- [x] メモアイテムウィジェットの作成
- [x] 作成日時順でのソート機能
- [x] タイトル・プレビュー表示の実装
- [x] 新規メモ作成ボタンの実装
- [x] メモタップでの編集画面遷移

### 1.5 Phase 1 単体テスト
- [x] データモデルクラスのテスト
  - `Memo`クラスのテスト（toMap, fromMap, 各プロパティ）
  - `Category`クラスのテスト（toMap, fromMap, 各プロパティ）
  - `Tag`クラスのテスト（toMap, fromMap, 各プロパティ）
- [x] データベースヘルパーのテスト
  - データベース初期化テスト
  - テーブル作成テスト
  - CRUD操作のテスト（insert, update, delete, select）
- [x] メモ機能の単体テスト
  - メモ作成機能のテスト
  - メモ更新機能のテスト
  - メモ削除機能のテスト
  - バリデーション機能のテスト

## Phase 2: 検索・分類機能（1週間）

### 2.1 カテゴリー機能
- [x] カテゴリー管理画面のUI作成
- [x] カテゴリー作成機能の実装
- [x] カテゴリー編集・削除機能の実装
- [x] メモ編集画面でのカテゴリー選択機能
- [x] カテゴリー別フィルタリング機能
- [x] カテゴリー色設定機能

### 2.2 検索機能
- [x] 検索バーのUI作成
- [x] 全文検索機能の実装
- [x] 検索結果表示の実装
- [x] 検索履歴機能の実装
- [x] 検索結果のハイライト表示

### 2.3 タグ機能（将来の拡張機能として保留）
- [ ] タグ入力ウィジェットの作成（将来実装）
- [ ] タグ表示ウィジェットの作成（将来実装）
- [ ] タグによる検索機能の実装（将来実装）
- [ ] タグ管理機能の実装（将来実装）
- [ ] タグ自動補完機能の実装（将来実装）

### 2.4 Phase 2 単体テスト
- [ ] カテゴリー機能のテスト
  - カテゴリー作成・編集・削除のテスト
  - カテゴリー別フィルタリングのテスト
  - カテゴリー色設定のテスト
- [ ] 検索機能のテスト
  - 全文検索のテスト
  - 検索結果の正確性テスト
  - 検索履歴機能のテスト
  - 空文字検索の処理テスト
- [ ] タグ機能のテスト（将来実装）
  - タグ作成・削除のテスト（将来実装）
  - タグによる検索のテスト（将来実装）
  - 多対多関係のテスト（将来実装）
  - タグ自動補完のテスト（将来実装）

## Phase 3: UI/UX改善（1週間）

### 3.1 ダークモード実装
- [ ] ライト・ダークテーマの定義
- [ ] テーマ切り替え機能の実装
- [ ] SharedPreferencesでのテーマ設定保存
- [ ] 全画面でのテーマ適用確認

### 3.2 デザインの最適化
- [ ] アプリアイコンの作成・設定
- [ ] カラーパレットの最適化
- [ ] フォント設定の調整
- [ ] アニメーション効果の追加
- [ ] レスポンシブデザインの実装

### 3.3 ユーザビリティ向上
- [ ] フォントサイズ調整機能の実装
- [ ] スワイプジェスチャーの実装
- [ ] 長押しメニューの実装
- [ ] 確認ダイアログの追加
- [ ] エラーハンドリングの改善
- [ ] ローディング表示の実装

### 3.4 Phase 3 単体テスト
- [ ] テーマ機能のテスト
  - ダークモード切り替えのテスト
  - テーマ設定保存・読み込みのテスト
  - 全画面でのテーマ適用確認テスト
- [ ] 設定機能のテスト
  - フォントサイズ設定のテスト
  - 設定値の永続化テスト
  - デフォルト設定の復元テスト
- [ ] UI/UXコンポーネントのテスト
  - アニメーション動作のテスト
  - ジェスチャー認識のテスト
  - レスポンシブ対応のテスト

## Phase 4: 追加機能・テスト（1週間）

### 4.1 お気に入り機能
- [ ] お気に入りボタンのUI作成
- [ ] お気に入り登録・解除機能の実装
- [ ] お気に入り一覧表示の実装
- [ ] お気に入りフィルタリング機能

### 4.2 設定画面
- [ ] 設定画面のUI作成
- [ ] アプリ設定項目の実装
  - ダークモード切り替え
  - フォントサイズ設定
  - 自動保存設定
- [ ] データ管理機能
  - データのエクスポート
  - データのインポート
  - データのクリア
- [ ] アプリ情報表示

### 4.3 Phase 4 単体テスト
- [ ] お気に入り機能のテスト
  - お気に入り登録・解除のテスト
  - お気に入りフィルタリングのテスト
  - お気に入り状態の永続化テスト
- [ ] 設定画面のテスト
  - 各種設定項目の動作テスト
  - データエクスポート・インポートのテスト
  - 設定値の妥当性チェック
- [ ] プロバイダー（状態管理）のテスト
  - `MemoProvider`のテスト
  - `CategoryProvider`のテスト
  - `SettingsProvider`のテスト
  - 状態変更の通知テスト

### 4.4 統合テスト・E2Eテスト
- [ ] 統合テストの作成
  - メモ作成から保存までの一連の流れ
  - 検索機能の統合テスト
  - データベースとUIの連携テスト
- [ ] E2Eテストの作成
  - アプリ起動から基本操作までのシナリオテスト
  - 主要機能の網羅的なテスト
  - エラーケースのテスト
- [ ] パフォーマンステスト
  - 大量データでの動作確認
  - メモリ使用量の測定
  - 起動速度の計測

### 4.5 バグ修正・最適化
- [ ] 単体テスト結果に基づくバグ修正
- [ ] ウィジェットテストの作成・実行
- [ ] パフォーマンスの最適化
- [ ] メモリ使用量の最適化
- [ ] コードの最適化・リファクタリング

### 4.6 最終調整
- [ ] アプリの動作確認
- [ ] 実機でのテスト
- [ ] APKビルドの確認
- [ ] リリース準備
- [ ] ドキュメント作成

## 追加タスク（必要に応じて）

### エラーハンドリング
- [ ] データベースエラーハンドリング
- [ ] ネットワークエラーハンドリング
- [ ] ファイルI/Oエラーハンドリング

### エラーハンドリングのテスト
- [ ] データベース接続エラーのテスト
- [ ] データ破損時の復旧テスト
- [ ] メモリ不足時の動作テスト
- [ ] 例外処理の網羅性テスト

### セキュリティ
- [ ] データの暗号化検討
- [ ] アプリロック機能の検討

### セキュリティテスト
- [ ] データ暗号化のテスト
- [ ] アプリロック機能のテスト
- [ ] 機密データの漏洩チェック

### 将来の拡張
- [ ] タグ機能の実装
- [ ] バックアップ機能の検討
- [ ] クラウド同期機能の検討
- [ ] ウィジェット機能の検討

### テストファイル構成
```
test/
├── unit/
│   ├── models/
│   │   ├── memo_test.dart
│   │   ├── category_test.dart
│   │   └── tag_test.dart
│   ├── services/
│   │   └── database_helper_test.dart
│   └── providers/
│       ├── memo_provider_test.dart
│       ├── category_provider_test.dart
│       └── settings_provider_test.dart
├── widget/
│   ├── memo_item_test.dart
│   ├── category_selector_test.dart
│   └── search_bar_test.dart
└── integration/
    ├── memo_crud_test.dart
    ├── search_feature_test.dart
    └── app_flow_test.dart
```

## 開発進捗管理

各タスクの完了後は以下を更新：
- [ ] を [x] に変更
- 完了日時を記録
- 発見した課題や改善点をメモ